<?xml version="1.0"?>
<odoo>
    <!-- COMMITTEE -->
    <record id="student_committee_view_action" model="ir.actions.act_window">
        <field name="name">Committees</field>
        <field name="res_model">student.committee</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Define a new committee registry.
            </p>
        </field>
    </record>

    <record id="student_committee_view_tree" model="ir.ui.view">
        <field name="name">student.committee.tree</field>
        <field name="model">student.committee</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="committee_faculty"/>
                <field name="professor_ids"/>
                <field name="defense_ids"/>
                <field name="meeting_date"/>
            </tree>
        </field>
    </record>

    <record id="student_committee_view_form" model="ir.ui.view">
        <field name="name">student.committee.form</field>
        <field name="model">student.committee</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="committee_number"/>
                            <field name="committee_faculty" readonly="1"/>
                        </group>
                        <group>
                            <field name="meeting_type"/>
                            <field name="meeting_location" invisible="meeting_type == 'online'"/>
                            <field name="meeting_link" widget="url" invisible="meeting_type == 'offline'"/>
                            <field name="meeting_date"/>
                            <field name="meeting_other_details"/>
                        </group>
                        <notebook>
                            <page string="Professors">
                                <field name="professor_ids">
                                    <tree>
                                        <field name="name"/>
                                        <field name="visiting_professor"/>
                                        <field name="offered_projects"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Defenses">
                                <p colspan="2" style="color:gray" invisible="id != False">
                                    <i>Save the committee to select defenses.</i>
                                </p>
                                <field name="defense_ids" invisible="id == False">
                                    <tree>
                                        <field name="project_student"/>
                                        <field name="project_id"/>
                                        <field name="defense_time"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- DEFENSE -->
    <record id="student_defense_view_action" model="ir.actions.act_window">
        <field name="name">Student Project Defenses</field>
        <field name="res_model">student.defense</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Define a new student defense entry.
            </p>
        </field>
    </record>

    <record id="student_defense_view_form" model="ir.ui.view">
        <field name="name">student.defense.form</field>
        <field name="model">student.defense</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="committee_id" readonly="1"/>
                            <field name="defense_time"/>
                        </group>
                        <group>
                            <field name="project_id"/>
                            <field name="project_student"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
</odoo>